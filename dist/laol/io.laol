module io {
    class InputStream {
        public def close
        public def eachLine(->cb(string line))
    }
    
    class FileInputStream(string fname) implements InputStream {
        private m_is = java.io.FileInputStream(fname)

        def close {m_is.close}
    }
}
